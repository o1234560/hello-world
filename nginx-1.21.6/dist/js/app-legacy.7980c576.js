(function(){var t={46700:function(t,e,s){var n={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function i(t){var e=a(t);return s(e)}function a(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id=46700},10804:function(){},13986:function(t,e,s){"use strict";s(66992),s(88674),s(19601),s(17727);var n=s(28935),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isTabBarShow,expression:"$store.state.isTabBarShow"}]}),s("section",[s("router-view")],1)],1)},a=[],o=s(82572),r=(s(60415),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("ul",[s("router-link",{attrs:{to:"/films",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate,i=e.isActive;return[s("li",{class:i?"myActive":"",on:{click:n}},[s("i",{staticClass:"iconfont icon-dianyingpiao"}),s("span",[t._v("电影")])])]}}])}),s("router-link",{attrs:{to:"/cinemas",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate,i=e.isActive;return[s("li",{class:i?"myActive":"",on:{click:n}},[s("i",{staticClass:"iconfont icon-shangquan"}),s("span",[t._v("影院")])])]}}])}),s("router-link",{attrs:{to:"/center",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate,i=e.isActive;return[s("li",{class:i?"myActive":"",on:{click:n}},[s("i",{staticClass:"iconfont icon-shezhi"}),s("span",[t._v("我的")])])]}}])})],1)])}),l=[],c=s(10804),u=s.n(c),d=u(),m=s(1001),f=(0,m.Z)(d,r,l,!1,null,"8c0c6290",null),h=f.exports;n.Z.use(o.ZP);var v={components:{TabBar:h}},p=v,j=(0,m.Z)(p,i,a,!1,null,null,null),g=j.exports,_=s(12809),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("film-swiper",[s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/c151962e41cb282f09b7855261841da7.jpg"}})])]),s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/d8419057142d94750cfcbaa69f5fd16b.jpg"}})])]),s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/594ded98490b61549be7ecb5a9355b79.jpg"}})])])],1),s("film-header",{staticClass:"sticky"}),s("router-view")],1)},k=[],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper"},[s("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),s("div",{staticClass:"swiper-pagination"})])},w=[],C=s(74464),$={mounted:function(){new C.Z(".swiper",{sidesPerView:1,loop:!0,effect:"slide",autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0},pagination:{el:".swiper-pagination"}})}},x=$,Z=(0,m.Z)(x,b,w,!1,null,null,null),I=Z.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[t._t("default")],2)},L=[],z={},E=(0,m.Z)(z,S,L,!1,null,null,null),N=E.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("router-link",{attrs:{to:"/films/nowplay",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate,i=e.isActive;return[s("li",{on:{click:n}},[s("span",{class:i?"myActive":""},[t._v("正在热映")])])]}}])}),s("router-link",{attrs:{to:"/films/comingsoon",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate,i=e.isActive;return[s("li",{on:{click:n}},[s("span",{class:i?"myActive":""},[t._v("即将上线")])])]}}])})],1)},T=[],O={},H=(0,m.Z)(O,P,T,!1,null,"63cf2722",null),A=H.exports,F={components:{FilmSwiper:I,FilmSwiperItem:N,FilmHeader:A}},B=F,D=(0,m.Z)(B,y,k,!1,null,"1bddfd99",null),U=D.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cinemas"}},[s("van-nav-bar",{attrs:{title:"影院"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[t._v(" "+t._s(t.$store.state.cityName)+" "),s("van-icon",{attrs:{name:"arrow-down"}})]},proxy:!0},{key:"right",fn:function(){return[s("van-icon",{attrs:{name:"search"}})]},proxy:!0}])}),s("div",{staticClass:"box"},[s("ul",t._l(t.$store.state.cinemaList,(function(e){return s("li",{key:e.cinemaId},[s("div",{staticClass:"left"},[s("div",[t._v(t._s(e.name))]),s("div",{staticClass:"address"},[t._v(t._s(e.address))])]),s("div",{staticClass:"right"},[s("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0)])],1)},q=[],M=s(42314),Y={data:function(){return{cinemaList:[]}},mounted:function(){var t=this;0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId).then((function(e){console.log("cinemas 数据加载完成"),t.$nextTick((function(){new M.ZP(".box",{scrollbar:{fade:!0}})}))})):(console.log("cinemas 使用缓存"),this.$nextTick((function(){new M.ZP(".box",{scrollbar:{fade:!0}})})))},methods:{onClickLeft:function(){this.$router.push("/city"),this.$store.commit("clearCinemaList")},onClickRight:function(){this.$router.push("/search")}}},R=Y,V=(0,m.Z)(R,X,q,!1,null,null,null),G=V.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"center"}},[s("div",{staticClass:"header"},[s("i",{staticClass:"iconfont icon-nickname"}),s("router-link",{attrs:{to:"/login",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.navigate;return[s("li",[s("span",{on:{click:n}},[t._v(t._s(t.$store.state.userName))])])]}}])})],1),t._m(0),t._m(1),t._m(2)])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav"},[s("div",[t._v("电影订单")]),s("div",[t._v("商品订单")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("卖座券")]),s("li",[t._v("红包")]),s("li",[t._v("余额")]),s("li",[t._v("设置")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("p",[t._v("个人练习")]),s("p",[t._v("vue")])])}],Q={},W=Q,tt=(0,m.Z)(W,J,K,!1,null,"0243871c",null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return s("van-cell",{key:e.filmId,on:{click:function(s){return t.handleChangePage(e.filmId)}}},[s("img",{attrs:{src:e.poster}}),s("div",[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"content "},[s("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),s("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),s("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])])])})),1)],1)},nt=[],it=s(74479),at=(s(57327),s(41539),s(69600),s(21249),s(68309),s(92222),s(26166)),ot=s.n(at),rt=s(58256),lt=ot().create({baseURL:"https://m.maizuo.com",timeout:0,headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.2.0","e":"1653814037507184098050049","bc":"440100"}'}});lt.interceptors.request.use((function(t){return rt.Z.loading({message:"加载中...",forbidClick:!0,duration:0}),t}),(function(t){return Promise.reject(t)})),lt.interceptors.response.use((function(t){return rt.Z.clear(),t}),(function(t){return rt.Z.clear(),Promise.reject(t)}));var ct=lt,ut=s(37882);n.Z.use(ut.Z),n.Z.filter("actorsFilter",(function(t){return void 0===t?"暂无主演":t.map((function(t){return t.name})).join(" ")}));var dt={data:function(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted:function(){var t=this;ct({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=1&pageSize=10&type=1&k=9288020"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films,t.total=e.data.data.total}))},methods:{handleChangePage:function(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad:function(){var t=this;console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,ct({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=").concat(this.current,"&pageSize=10&type=1&k=9288020"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=[].concat((0,it.Z)(t.datalist),(0,it.Z)(e.data.data.films)),t.loading=!1}))):this.finished=!0}}},mt=dt,ft=(0,m.Z)(mt,st,nt,!1,null,"10ec24cc",null),ht=ft.exports,vt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return s("van-cell",{key:e.filmId,on:{click:function(s){return t.handleChangePage(e.filmId)}}},[s("img",{attrs:{src:e.poster}}),s("div",[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"content "},[s("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),s("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),s("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])])])})),1)],1)},pt=[];n.Z.use(ut.Z),n.Z.filter("actorsFilter",(function(t){return void 0===t?"暂无主演":t.map((function(t){return t.name})).join(" ")}));var jt={data:function(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted:function(){var t=this;ct({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=1&pageSize=10&type=2&k=8803514"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films,t.total=e.data.data.total,console.log(t.total)}))},methods:{handleChangePage:function(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad:function(){var t=this;console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,ct({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=").concat(this.current,"&pageSize=10&type=2&k=8803514"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=[].concat((0,it.Z)(t.datalist),(0,it.Z)(e.data.data.films)),t.loading=!1}))):this.finished=!0}}},gt=jt,_t=(0,m.Z)(gt,vt,pt,!1,null,"67946786",null),yt=_t.exports,kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.filmInfo?s("div",{attrs:{id:"detail"}},[s("detail-header",{directives:[{name:"scroll",rawName:"v-scroll",value:0,expression:"0"}]},[t._v(t._s(t.filmInfo.name))]),s("div",{staticClass:"poster",style:{backgroundImage:"url("+t.filmInfo.poster+")"}}),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[t._v(t._s(t.filmInfo.name))]),s("div",[s("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.category))]),s("div",{staticClass:"detail-text"},[t._v(t._s(t._f("dateFilter")(t.filmInfo.premiereAt))+"上映")]),s("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.nation)+" | "+t._s(t.filmInfo.runtime)+"分钟")]),s("div",{staticClass:"detail-text",class:t.isHidden?"hidden":"",staticStyle:{"line-height":"1.25rem"}},[t._v(t._s(t.filmInfo.synopsis))]),s("div",{staticStyle:{"text-align":"center"}},[s("i",{staticClass:"iconfont",class:t.isHidden?"icon-arrow-down-bold":"icon-arrow-up-bold",on:{click:function(e){t.isHidden=!t.isHidden}}})])])]),s("div",{staticClass:"content"},[s("div",[t._v("演职人员")]),s("detail-swiper",{staticClass:"actorlist",attrs:{slideNum:3.5,name:"actors"}},t._l(t.actorList,(function(e){return s("detail-swiper-item",{key:e.name},[s("div",{staticClass:"actorposter",style:{backgroundImage:"url("+e.avatarAddress+")"}}),s("div",{staticStyle:{color:"#000"}},[t._v(t._s(e.name))]),s("div",[t._v(t._s(e.role))])])})),1)],1),s("div",{staticClass:"content"},[s("div",[t._v("剧照")]),s("detail-swiper",{staticClass:"photolist",attrs:{slideNum:2,name:"photos"}},t._l(t.photoList,(function(e,n){return s("detail-swiper-item",{key:e},[s("div",{staticClass:"photoposter",on:{click:function(e){return t.handleImagePreview(n)}}},[s("img",{attrs:{src:e}})])])})),1)],1)],1):t._e()},bt=[],wt=s(17133),Ct=s.n(wt),$t=s(22014),xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper",class:t.name},[s("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),s("div",{staticClass:"swiper-pagination"})])},Zt=[],It=(s(9653),{props:{slideNum:{type:Number,default:3.5},name:{type:String,default:"jack"}},mounted:function(){new C.Z("."+this.name,{slidesPerView:this.slideNum,spaceBetween:15})}}),St=It,Lt=(0,m.Z)(St,xt,Zt,!1,null,null,null),zt=Lt.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[t._t("default")],2)},Nt=[],Pt={},Tt=(0,m.Z)(Pt,Et,Nt,!1,null,null,null),Ot=Tt.exports,Ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("i",{staticClass:"iconfont icon-arrow-left-bold",on:{click:function(e){return t.handleBack()}}}),t._t("default")],2)},At=[],Ft={methods:{handleBack:function(){this.$router.back()}}},Bt=Ft,Dt=(0,m.Z)(Bt,Ht,At,!1,null,"24f848c5",null),Ut=Dt.exports;n.Z.filter("dateFilter",(function(t){return Ct()(1e3*t).format("YYYY-MM-DD")})),n.Z.directive("scroll",{inserted:function(t,e){t.style.display="none",window.onscroll=function(){console.log("scroll",e.value),(document.documentElement.scrollTop||document.body.scrollTop)>e.value?t.style.display="block":t.style.display="none"}},unbind:function(){window.scroll=null}});var Xt={data:function(){return{filmInfo:null,isHidden:!0,actorList:[],photoList:[]}},components:{detailSwiper:zt,detailSwiperItem:Ot,DetailHeader:Ut},created:function(){var t=this;ct({url:"/gateway?filmId=".concat(this.$route.params.id,"&k=2128320"),headers:{"X-Host":"mall.film-ticket.film.info"}}).then((function(e){t.filmInfo=e.data.data.film,t.actorList=e.data.data.film.actors,t.photoList=e.data.data.film.photos}))},mounted:function(){this.$store.commit("hide")},destroyed:function(){window.onscroll=null,this.$store.commit("show")},methods:{handleImagePreview:function(t){console.log(t),(0,$t.Z)({images:this.photoList,startPosition:t,closeable:!0})}}},qt=Xt,Mt=(0,m.Z)(qt,kt,bt,!1,null,"46fe0ba9",null),Yt=Mt.exports,Rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("div",{staticClass:"box"},[t.value?s("ul",t._l(t.computedList,(function(e){return s("li",{key:e.cinemaId},[s("div",{staticClass:"left"},[s("div",[t._v(t._s(e.name))]),s("div",{staticClass:"address"},[t._v(t._s(e.address))])]),s("div",{staticClass:"right"},[s("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0):t._e()])],1)},Vt=[],Gt=(s(26699),s(32023),{data:function(){return{value:""}},methods:{onSearch:function(){},onCancel:function(){this.$router.back()}},computed:{computedList:function(){var t=this;return this.$store.state.cinemaList.filter((function(e){return e.name.toUpperCase().includes(t.value.toUpperCase())||e.address.toUpperCase().includes(t.value.toUpperCase())}))}},mounted:function(){0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId):console.log("search 使用缓存")}}),Jt=Gt,Kt=(0,m.Z)(Jt,Rt,Vt,!1,null,null,null),Qt=Kt.exports,Wt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"city"}},[s("van-index-bar",{attrs:{"index-list":t.computedList,sticky:!1},on:{select:t.handleChange}},t._l(t.cityList,(function(e){return s("div",{key:e.tyoe},[s("van-index-anchor",{attrs:{index:e.type}}),t._l(e.list,(function(e){return s("van-cell",{key:e.cityId,attrs:{title:e.name},on:{click:function(s){return t.handleClick(e)}}})}))],2)})),0)],1)},te=[],ee={created:function(){this.$store.commit("hide")},destroyed:function(){this.$store.commit("show")}},se={mixins:[ee],data:function(){return{cityList:[]}},mounted:function(){var t=this;ct({url:"/gateway?k=129332",headers:{"X-Host":"mall.film-ticket.city.list"}}).then((function(e){t.renderCity(e.data.data.cities)}))},destroyed:function(){},methods:{renderCity:function(t){for(var e=this,s=[],n=65;n<91;n++)s.push(String.fromCharCode(n));s.forEach((function(s){var n=t.filter((function(t){return t.pinyin.substring(0,1).toUpperCase()===s}));n.length>0&&e.cityList.push({type:s,list:n})})),console.log(this.cityList)},handleChange:function(t){(0,rt.Z)(t)},handleClick:function(t){this.$store.commit("changeCityName",t.name),this.$store.commit("changeCityId",t.cityId),this.$router.back()}},computed:{computedList:function(){return this.cityList.map((function(t){return t.type}))}}},ne=se,ie=(0,m.Z)(ne,Wt,te,!1,null,null,null),ae=ie.exports,oe=s(34665),re=s(53445);n.Z.use(oe.ZP);var le=new oe.ZP.Store({plugins:[(0,re.Z)({reducer:function(t){return{cityId:t.cityId,cityName:t.cityName}}})],state:{cityId:"110100",cityName:"北京",cinemaList:[],isTabBarShow:!0,userName:"请登录"},getters:{},mutations:{changeCityName:function(t,e){t.cityName=e},changeCityId:function(t,e){t.cityId=e},changeCinemaData:function(t,e){t.cinemaList=e},clearCinemaList:function(t){t.cinemaList=[]},show:function(t){t.isTabBarShow=!0},hide:function(t){t.isTabBarShow=!1},setUsername:function(t,e){t.userName=e}},actions:{getCinemaData:function(t,e){return ct({url:"/gateway?cityId=".concat(e,"&ticketFlag=1&k=8708327"),headers:{"X-Host":"mall.film-ticket.cinema.list"}}).then((function(e){console.log(e.data.data.cinemas),t.commit("changeCinemaData",e.data.data.cinemas)}))}},modules:{}}),ce=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("h1",[t._v("登录页面")]),s("van-form",{on:{submit:t.onSubmit}},[s("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},ue=[],de={data:function(){return{username:"",password:""}},methods:{onSubmit:function(t){var e=this;console.log("submit",t),(0,rt.Z)("登录成功"),setTimeout((function(){e.$store.commit("setUsername",e.username),e.$router.push("/films")}),1e3)}}},me=de,fe=(0,m.Z)(me,ce,ue,!1,null,"a5888160",null),he=fe.exports;n.Z.use(_.Z);var ve=[{path:"/films",component:U,children:[{path:"/films/nowplay",component:ht},{path:"/films/comingsoon",component:yt},{path:"/films",redirect:"/films/nowplay"}]},{path:"/detail",component:Yt},{name:"jack",path:"/detail/:id",component:Yt},{path:"/cinemas",component:G},{path:"/city",component:ae},{path:"/center",component:et},{path:"/search",component:Qt,meta:{isTabbarHide:!0}},{path:"/login",component:he},{path:"/",redirect:"/films"},{path:"*",redirect:"films"}],pe=new _.Z({mode:"hash",base:"",routes:ve});pe.beforeEach((function(t,e,s){t.meta.isTabbarHide?(console.log("TabBar hide"),le.commit("hide")):(console.log("TabBar show"),le.commit("show")),s()}));var je=pe;n.Z.config.productionTip=!1,new n.Z({router:je,store:le,render:function(t){return t(g)}}).$mount("#app")}},e={};function s(n){var i=e[n];if(void 0!==i)return i.exports;var a=e[n]={id:n,loaded:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.loaded=!0,a.exports}s.m=t,function(){var t=[];s.O=function(e,n,i,a){if(!n){var o=1/0;for(u=0;u<t.length;u++){n=t[u][0],i=t[u][1],a=t[u][2];for(var r=!0,l=0;l<n.length;l++)(!1&a||o>=a)&&Object.keys(s.O).every((function(t){return s.O[t](n[l])}))?n.splice(l--,1):(r=!1,a<o&&(o=a));if(r){t.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[n,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var i,a,o=n[0],r=n[1],l=n[2],c=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var u=l(s)}for(e&&e(n);c<o.length;c++)a=o[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},n=self["webpackChunkproject0531"]=self["webpackChunkproject0531"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(13986)}));n=s.O(n)})();
//# sourceMappingURL=app-legacy.7980c576.js.map