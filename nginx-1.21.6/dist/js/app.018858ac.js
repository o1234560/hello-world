(function(){var t={6700:function(t,e,s){var i={"./af":2398,"./af.js":2398,"./ar":4207,"./ar-dz":3382,"./ar-dz.js":3382,"./ar-kw":6525,"./ar-kw.js":6525,"./ar-ly":7098,"./ar-ly.js":7098,"./ar-ma":6483,"./ar-ma.js":6483,"./ar-sa":3961,"./ar-sa.js":3961,"./ar-tn":7401,"./ar-tn.js":7401,"./ar.js":4207,"./az":903,"./az.js":903,"./be":1174,"./be.js":1174,"./bg":4615,"./bg.js":4615,"./bm":225,"./bm.js":225,"./bn":9751,"./bn-bd":544,"./bn-bd.js":544,"./bn.js":9751,"./bo":6894,"./bo.js":6894,"./br":8566,"./br.js":8566,"./bs":959,"./bs.js":959,"./ca":2683,"./ca.js":2683,"./cs":4231,"./cs.js":4231,"./cv":999,"./cv.js":999,"./cy":4302,"./cy.js":4302,"./da":3601,"./da.js":3601,"./de":5509,"./de-at":2479,"./de-at.js":2479,"./de-ch":5948,"./de-ch.js":5948,"./de.js":5509,"./dv":9838,"./dv.js":9838,"./el":5113,"./el.js":5113,"./en-au":7377,"./en-au.js":7377,"./en-ca":9626,"./en-ca.js":9626,"./en-gb":5912,"./en-gb.js":5912,"./en-ie":2931,"./en-ie.js":2931,"./en-il":2243,"./en-il.js":2243,"./en-in":9779,"./en-in.js":9779,"./en-nz":9813,"./en-nz.js":9813,"./en-sg":4318,"./en-sg.js":4318,"./eo":4957,"./eo.js":4957,"./es":9243,"./es-do":7409,"./es-do.js":7409,"./es-mx":5188,"./es-mx.js":5188,"./es-us":6927,"./es-us.js":6927,"./es.js":9243,"./et":7731,"./et.js":7731,"./eu":1072,"./eu.js":1072,"./fa":9462,"./fa.js":9462,"./fi":3368,"./fi.js":3368,"./fil":3626,"./fil.js":3626,"./fo":6421,"./fo.js":6421,"./fr":974,"./fr-ca":7780,"./fr-ca.js":7780,"./fr-ch":9719,"./fr-ch.js":9719,"./fr.js":974,"./fy":8373,"./fy.js":8373,"./ga":3861,"./ga.js":3861,"./gd":4896,"./gd.js":4896,"./gl":739,"./gl.js":739,"./gom-deva":6737,"./gom-deva.js":6737,"./gom-latn":1979,"./gom-latn.js":1979,"./gu":2001,"./gu.js":2001,"./he":9671,"./he.js":9671,"./hi":2038,"./hi.js":2038,"./hr":1228,"./hr.js":1228,"./hu":87,"./hu.js":87,"./hy-am":3569,"./hy-am.js":3569,"./id":1977,"./id.js":1977,"./is":6853,"./is.js":6853,"./it":7859,"./it-ch":5626,"./it-ch.js":5626,"./it.js":7859,"./ja":4123,"./ja.js":4123,"./jv":6457,"./jv.js":6457,"./ka":638,"./ka.js":638,"./kk":6823,"./kk.js":6823,"./km":9493,"./km.js":9493,"./kn":1288,"./kn.js":1288,"./ko":9663,"./ko.js":9663,"./ku":805,"./ku.js":805,"./ky":7550,"./ky.js":7550,"./lb":6272,"./lb.js":6272,"./lo":9135,"./lo.js":9135,"./lt":1452,"./lt.js":1452,"./lv":5782,"./lv.js":5782,"./me":2181,"./me.js":2181,"./mi":258,"./mi.js":258,"./mk":5715,"./mk.js":5715,"./ml":538,"./ml.js":538,"./mn":3086,"./mn.js":3086,"./mr":5663,"./mr.js":5663,"./ms":5100,"./ms-my":2663,"./ms-my.js":2663,"./ms.js":5100,"./mt":880,"./mt.js":880,"./my":9099,"./my.js":9099,"./nb":8709,"./nb.js":8709,"./ne":2201,"./ne.js":2201,"./nl":1016,"./nl-be":1681,"./nl-be.js":1681,"./nl.js":1016,"./nn":5330,"./nn.js":5330,"./oc-lnc":7132,"./oc-lnc.js":7132,"./pa-in":251,"./pa-in.js":251,"./pl":3948,"./pl.js":3948,"./pt":9836,"./pt-br":8831,"./pt-br.js":8831,"./pt.js":9836,"./ro":8443,"./ro.js":8443,"./ru":4,"./ru.js":4,"./sd":4510,"./sd.js":4510,"./se":3148,"./se.js":3148,"./si":542,"./si.js":542,"./sk":7637,"./sk.js":7637,"./sl":5852,"./sl.js":5852,"./sq":611,"./sq.js":611,"./sr":242,"./sr-cyrl":302,"./sr-cyrl.js":302,"./sr.js":242,"./ss":1367,"./ss.js":1367,"./sv":2927,"./sv.js":2927,"./sw":5240,"./sw.js":5240,"./ta":2692,"./ta.js":2692,"./te":2132,"./te.js":2132,"./tet":8300,"./tet.js":8300,"./tg":7211,"./tg.js":7211,"./th":4050,"./th.js":4050,"./tk":3849,"./tk.js":3849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":3650,"./tlh.js":3650,"./tr":4195,"./tr.js":4195,"./tzl":5529,"./tzl.js":5529,"./tzm":7520,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":7520,"./ug-cn":4134,"./ug-cn.js":4134,"./uk":5456,"./uk.js":5456,"./ur":5679,"./ur.js":5679,"./uz":9277,"./uz-latn":6446,"./uz-latn.js":6446,"./uz.js":9277,"./vi":3992,"./vi.js":3992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":2899,"./yo.js":2899,"./zh-cn":4017,"./zh-cn.js":4017,"./zh-hk":4831,"./zh-hk.js":4831,"./zh-mo":2881,"./zh-mo.js":2881,"./zh-tw":57,"./zh-tw.js":57};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=6700},804:function(){},3986:function(t,e,s){"use strict";var i=s(8935),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isTabBarShow,expression:"$store.state.isTabBarShow"}]}),s("section",[s("router-view")],1)],1)},n=[],r=s(3903),l=(s(415),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("ul",[s("router-link",{attrs:{to:"/films",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate,a=e.isActive;return[s("li",{class:a?"myActive":"",on:{click:i}},[s("i",{staticClass:"iconfont icon-dianyingpiao"}),s("span",[t._v("电影")])])]}}])}),s("router-link",{attrs:{to:"/cinemas",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate,a=e.isActive;return[s("li",{class:a?"myActive":"",on:{click:i}},[s("i",{staticClass:"iconfont icon-shangquan"}),s("span",[t._v("影院")])])]}}])}),s("router-link",{attrs:{to:"/center",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate,a=e.isActive;return[s("li",{class:a?"myActive":"",on:{click:i}},[s("i",{staticClass:"iconfont icon-shezhi"}),s("span",[t._v("我的")])])]}}])})],1)])}),o=[],c=s(804),d=s.n(c),u=d(),m=s(1001),h=(0,m.Z)(u,l,o,!1,null,"8c0c6290",null),f=h.exports;i.Z.use(r.ZP);var v={components:{TabBar:f}},p=v,j=(0,m.Z)(p,a,n,!1,null,null,null),g=j.exports,_=s(2809),y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("film-swiper",[s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/c151962e41cb282f09b7855261841da7.jpg"}})])]),s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/d8419057142d94750cfcbaa69f5fd16b.jpg"}})])]),s("film-swiper-item",[s("div",[s("img",{attrs:{src:"https://pic.maizuo.com/usr/movie/594ded98490b61549be7ecb5a9355b79.jpg"}})])])],1),s("film-header",{staticClass:"sticky"}),s("router-view")],1)},k=[],b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper"},[s("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),s("div",{staticClass:"swiper-pagination"})])},w=[],C=s(498),$={mounted(){new C.Z(".swiper",{sidesPerView:1,loop:!0,effect:"slide",autoplay:{delay:3e3,stopOnLastSlide:!1,disableOnInteraction:!0},pagination:{el:".swiper-pagination"}})}},x=$,Z=(0,m.Z)(x,b,w,!1,null,null,null),I=Z.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[t._t("default")],2)},L=[],z={},E=(0,m.Z)(z,S,L,!1,null,null,null),N=E.exports,P=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("router-link",{attrs:{to:"/films/nowplay",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate,a=e.isActive;return[s("li",{on:{click:i}},[s("span",{class:a?"myActive":""},[t._v("正在热映")])])]}}])}),s("router-link",{attrs:{to:"/films/comingsoon",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate,a=e.isActive;return[s("li",{on:{click:i}},[s("span",{class:a?"myActive":""},[t._v("即将上线")])])]}}])})],1)},T=[],O={},H=(0,m.Z)(O,P,T,!1,null,"63cf2722",null),A=H.exports,F={components:{FilmSwiper:I,FilmSwiperItem:N,FilmHeader:A}},B=F,D=(0,m.Z)(B,y,k,!1,null,"1bddfd99",null),U=D.exports,X=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"cinemas"}},[s("van-nav-bar",{attrs:{title:"影院"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[t._v(" "+t._s(t.$store.state.cityName)+" "),s("van-icon",{attrs:{name:"arrow-down"}})]},proxy:!0},{key:"right",fn:function(){return[s("van-icon",{attrs:{name:"search"}})]},proxy:!0}])}),s("div",{staticClass:"box"},[s("ul",t._l(t.$store.state.cinemaList,(function(e){return s("li",{key:e.cinemaId},[s("div",{staticClass:"left"},[s("div",[t._v(t._s(e.name))]),s("div",{staticClass:"address"},[t._v(t._s(e.address))])]),s("div",{staticClass:"right"},[s("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0)])],1)},q=[],M=s(2314),Y={data(){return{cinemaList:[]}},mounted(){0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId).then((t=>{console.log("cinemas 数据加载完成"),this.$nextTick((()=>{new M.ZP(".box",{scrollbar:{fade:!0}})}))})):(console.log("cinemas 使用缓存"),this.$nextTick((()=>{new M.ZP(".box",{scrollbar:{fade:!0}})})))},methods:{onClickLeft(){this.$router.push("/city"),this.$store.commit("clearCinemaList")},onClickRight(){this.$router.push("/search")}}},R=Y,V=(0,m.Z)(R,X,q,!1,null,null,null),G=V.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"center"}},[s("div",{staticClass:"header"},[s("i",{staticClass:"iconfont icon-nickname"}),s("router-link",{attrs:{to:"/login",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var i=e.navigate;return[s("li",[s("span",{on:{click:i}},[t._v(t._s(t.$store.state.userName))])])]}}])})],1),t._m(0),t._m(1),t._m(2)])},K=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nav"},[s("div",[t._v("电影订单")]),s("div",[t._v("商品订单")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[t._v("卖座券")]),s("li",[t._v("红包")]),s("li",[t._v("余额")]),s("li",[t._v("设置")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("footer",[s("p",[t._v("个人练习")]),s("p",[t._v("vue")])])}],Q={},W=Q,tt=(0,m.Z)(W,J,K,!1,null,"0243871c",null),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return s("van-cell",{key:e.filmId,on:{click:function(s){return t.handleChangePage(e.filmId)}}},[s("img",{attrs:{src:e.poster}}),s("div",[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"content "},[s("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),s("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),s("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])])])})),1)],1)},it=[],at=s(6166),nt=s.n(at),rt=s(8256);const lt=nt().create({baseURL:"https://m.maizuo.com",timeout:0,headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.2.0","e":"1653814037507184098050049","bc":"440100"}'}});lt.interceptors.request.use((function(t){return rt.Z.loading({message:"加载中...",forbidClick:!0,duration:0}),t}),(function(t){return Promise.reject(t)})),lt.interceptors.response.use((function(t){return rt.Z.clear(),t}),(function(t){return rt.Z.clear(),Promise.reject(t)}));var ot=lt,ct=s(7882);i.Z.use(ct.Z),i.Z.filter("actorsFilter",(t=>void 0===t?"暂无主演":t.map((t=>t.name)).join(" ")));var dt={data(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted(){ot({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=1&pageSize=10&type=1&k=9288020`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=t.data.data.films,this.total=t.data.data.total}))},methods:{handleChangePage(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad(){console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,ot({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.current}&pageSize=10&type=1&k=9288020`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=[...this.datalist,...t.data.data.films],this.loading=!1}))):this.finished=!0}}},ut=dt,mt=(0,m.Z)(ut,st,it,!1,null,"10ec24cc",null),ht=mt.exports,ft=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return s("van-cell",{key:e.filmId,on:{click:function(s){return t.handleChangePage(e.filmId)}}},[s("img",{attrs:{src:e.poster}}),s("div",[s("div",{staticClass:"title"},[t._v(t._s(e.name))]),s("div",{staticClass:"content "},[s("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),s("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),s("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),s("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])])])})),1)],1)},vt=[];i.Z.use(ct.Z),i.Z.filter("actorsFilter",(t=>void 0===t?"暂无主演":t.map((t=>t.name)).join(" ")));var pt={data(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted(){ot({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=1&pageSize=10&type=2&k=8803514`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=t.data.data.films,this.total=t.data.data.total,console.log(this.total)}))},methods:{handleChangePage(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad(){console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,ot({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.current}&pageSize=10&type=2&k=8803514`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=[...this.datalist,...t.data.data.films],this.loading=!1}))):this.finished=!0}}},jt=pt,gt=(0,m.Z)(jt,ft,vt,!1,null,"67946786",null),_t=gt.exports,yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.filmInfo?s("div",{attrs:{id:"detail"}},[s("detail-header",{directives:[{name:"scroll",rawName:"v-scroll",value:0,expression:"0"}]},[t._v(t._s(t.filmInfo.name))]),s("div",{staticClass:"poster",style:{backgroundImage:"url("+t.filmInfo.poster+")"}}),s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[t._v(t._s(t.filmInfo.name))]),s("div",[s("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.category))]),s("div",{staticClass:"detail-text"},[t._v(t._s(t._f("dateFilter")(t.filmInfo.premiereAt))+"上映")]),s("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.nation)+" | "+t._s(t.filmInfo.runtime)+"分钟")]),s("div",{staticClass:"detail-text",class:t.isHidden?"hidden":"",staticStyle:{"line-height":"1.25rem"}},[t._v(t._s(t.filmInfo.synopsis))]),s("div",{staticStyle:{"text-align":"center"}},[s("i",{staticClass:"iconfont",class:t.isHidden?"icon-arrow-down-bold":"icon-arrow-up-bold",on:{click:function(e){t.isHidden=!t.isHidden}}})])])]),s("div",{staticClass:"content"},[s("div",[t._v("演职人员")]),s("detail-swiper",{staticClass:"actorlist",attrs:{slideNum:3.5,name:"actors"}},t._l(t.actorList,(function(e){return s("detail-swiper-item",{key:e.name},[s("div",{staticClass:"actorposter",style:{backgroundImage:"url("+e.avatarAddress+")"}}),s("div",{staticStyle:{color:"#000"}},[t._v(t._s(e.name))]),s("div",[t._v(t._s(e.role))])])})),1)],1),s("div",{staticClass:"content"},[s("div",[t._v("剧照")]),s("detail-swiper",{staticClass:"photolist",attrs:{slideNum:2,name:"photos"}},t._l(t.photoList,(function(e,i){return s("detail-swiper-item",{key:e},[s("div",{staticClass:"photoposter",on:{click:function(e){return t.handleImagePreview(i)}}},[s("img",{attrs:{src:e}})])])})),1)],1)],1):t._e()},kt=[],bt=s(7133),wt=s.n(bt),Ct=s(2014),$t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper",class:t.name},[s("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),s("div",{staticClass:"swiper-pagination"})])},xt=[],Zt={props:{slideNum:{type:Number,default:3.5},name:{type:String,default:"jack"}},mounted(){new C.Z("."+this.name,{slidesPerView:this.slideNum,spaceBetween:15})}},It=Zt,St=(0,m.Z)(It,$t,xt,!1,null,null,null),Lt=St.exports,zt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"swiper-slide"},[t._t("default")],2)},Et=[],Nt={},Pt=(0,m.Z)(Nt,zt,Et,!1,null,null,null),Tt=Pt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"header"},[s("i",{staticClass:"iconfont icon-arrow-left-bold",on:{click:function(e){return t.handleBack()}}}),t._t("default")],2)},Ht=[],At={methods:{handleBack(){this.$router.back()}}},Ft=At,Bt=(0,m.Z)(Ft,Ot,Ht,!1,null,"24f848c5",null),Dt=Bt.exports;i.Z.filter("dateFilter",(t=>wt()(1e3*t).format("YYYY-MM-DD"))),i.Z.directive("scroll",{inserted(t,e){t.style.display="none",window.onscroll=()=>{console.log("scroll",e.value),(document.documentElement.scrollTop||document.body.scrollTop)>e.value?t.style.display="block":t.style.display="none"}},unbind(){window.scroll=null}});var Ut={data(){return{filmInfo:null,isHidden:!0,actorList:[],photoList:[]}},components:{detailSwiper:Lt,detailSwiperItem:Tt,DetailHeader:Dt},created(){ot({url:`/gateway?filmId=${this.$route.params.id}&k=2128320`,headers:{"X-Host":"mall.film-ticket.film.info"}}).then((t=>{this.filmInfo=t.data.data.film,this.actorList=t.data.data.film.actors,this.photoList=t.data.data.film.photos}))},mounted(){this.$store.commit("hide")},destroyed(){window.onscroll=null,this.$store.commit("show")},methods:{handleImagePreview(t){console.log(t),(0,Ct.Z)({images:this.photoList,startPosition:t,closeable:!0})}}},Xt=Ut,qt=(0,m.Z)(Xt,yt,kt,!1,null,"46fe0ba9",null),Mt=qt.exports,Yt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"search"}},[s("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("div",{staticClass:"box"},[t.value?s("ul",t._l(t.computedList,(function(e){return s("li",{key:e.cinemaId},[s("div",{staticClass:"left"},[s("div",[t._v(t._s(e.name))]),s("div",{staticClass:"address"},[t._v(t._s(e.address))])]),s("div",{staticClass:"right"},[s("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0):t._e()])],1)},Rt=[],Vt=(s(6699),{data(){return{value:""}},methods:{onSearch(){},onCancel(){this.$router.back()}},computed:{computedList(){return this.$store.state.cinemaList.filter((t=>t.name.toUpperCase().includes(this.value.toUpperCase())||t.address.toUpperCase().includes(this.value.toUpperCase())))}},mounted(){0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId):console.log("search 使用缓存")}}),Gt=Vt,Jt=(0,m.Z)(Gt,Yt,Rt,!1,null,null,null),Kt=Jt.exports,Qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"city"}},[s("van-index-bar",{attrs:{"index-list":t.computedList,sticky:!1},on:{select:t.handleChange}},t._l(t.cityList,(function(e){return s("div",{key:e.tyoe},[s("van-index-anchor",{attrs:{index:e.type}}),t._l(e.list,(function(e){return s("van-cell",{key:e.cityId,attrs:{title:e.name},on:{click:function(s){return t.handleClick(e)}}})}))],2)})),0)],1)},Wt=[];const te={created(){this.$store.commit("hide")},destroyed(){this.$store.commit("show")}};var ee={mixins:[te],data(){return{cityList:[]}},mounted(){ot({url:"/gateway?k=129332",headers:{"X-Host":"mall.film-ticket.city.list"}}).then((t=>{this.renderCity(t.data.data.cities)}))},destroyed(){},methods:{renderCity(t){const e=[];for(let s=65;s<91;s++)e.push(String.fromCharCode(s));e.forEach((e=>{const s=t.filter((t=>t.pinyin.substring(0,1).toUpperCase()===e));s.length>0&&this.cityList.push({type:e,list:s})})),console.log(this.cityList)},handleChange(t){(0,rt.Z)(t)},handleClick(t){this.$store.commit("changeCityName",t.name),this.$store.commit("changeCityId",t.cityId),this.$router.back()}},computed:{computedList(){return this.cityList.map((t=>t.type))}}},se=ee,ie=(0,m.Z)(se,Qt,Wt,!1,null,null,null),ae=ie.exports,ne=s(4665),re=s(3445);i.Z.use(ne.ZP);var le=new ne.ZP.Store({plugins:[(0,re.Z)({reducer:t=>({cityId:t.cityId,cityName:t.cityName})})],state:{cityId:"110100",cityName:"北京",cinemaList:[],isTabBarShow:!0,userName:"请登录"},getters:{},mutations:{changeCityName(t,e){t.cityName=e},changeCityId(t,e){t.cityId=e},changeCinemaData(t,e){t.cinemaList=e},clearCinemaList(t){t.cinemaList=[]},show(t){t.isTabBarShow=!0},hide(t){t.isTabBarShow=!1},setUsername(t,e){t.userName=e}},actions:{getCinemaData(t,e){return ot({url:`/gateway?cityId=${e}&ticketFlag=1&k=8708327`,headers:{"X-Host":"mall.film-ticket.cinema.list"}}).then((e=>{console.log(e.data.data.cinemas),t.commit("changeCinemaData",e.data.data.cinemas)}))}},modules:{}}),oe=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"login"}},[s("h1",[t._v("登录页面")]),s("van-form",{on:{submit:t.onSubmit}},[s("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),s("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},ce=[],de={data(){return{username:"",password:""}},methods:{onSubmit(t){console.log("submit",t),(0,rt.Z)("登录成功"),setTimeout((()=>{this.$store.commit("setUsername",this.username),this.$router.push("/films")}),1e3)}}},ue=de,me=(0,m.Z)(ue,oe,ce,!1,null,"a5888160",null),he=me.exports;i.Z.use(_.Z);const fe=[{path:"/films",component:U,children:[{path:"/films/nowplay",component:ht},{path:"/films/comingsoon",component:_t},{path:"/films",redirect:"/films/nowplay"}]},{path:"/detail",component:Mt},{name:"jack",path:"/detail/:id",component:Mt},{path:"/cinemas",component:G},{path:"/city",component:ae},{path:"/center",component:et},{path:"/search",component:Kt,meta:{isTabbarHide:!0}},{path:"/login",component:he},{path:"/",redirect:"/films"},{path:"*",redirect:"films"}],ve=new _.Z({mode:"hash",base:"",routes:fe});ve.beforeEach(((t,e,s)=>{t.meta.isTabbarHide?(console.log("TabBar hide"),le.commit("hide")):(console.log("TabBar show"),le.commit("show")),s()}));var pe=ve;i.Z.config.productionTip=!1,new i.Z({router:pe,store:le,render:t=>t(g)}).$mount("#app")}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],n=t[d][2];for(var l=!0,o=0;o<i.length;o++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[o])}))?i.splice(o--,1):(l=!1,n<r&&(r=n));if(l){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,r=i[0],l=i[1],o=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in l)s.o(l,a)&&(s.m[a]=l[a]);if(o)var d=o(s)}for(e&&e(i);c<r.length;c++)n=r[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},i=self["webpackChunkproject0531"]=self["webpackChunkproject0531"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(3986)}));i=s.O(i)})();
//# sourceMappingURL=app.018858ac.js.map