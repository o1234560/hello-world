(function(){var t={46700:function(t,e,n){var s={"./af":72398,"./af.js":72398,"./ar":44207,"./ar-dz":33382,"./ar-dz.js":33382,"./ar-kw":96525,"./ar-kw.js":96525,"./ar-ly":17098,"./ar-ly.js":17098,"./ar-ma":56483,"./ar-ma.js":56483,"./ar-sa":73961,"./ar-sa.js":73961,"./ar-tn":27401,"./ar-tn.js":27401,"./ar.js":44207,"./az":70903,"./az.js":70903,"./be":41174,"./be.js":41174,"./bg":94615,"./bg.js":94615,"./bm":20225,"./bm.js":20225,"./bn":69751,"./bn-bd":30544,"./bn-bd.js":30544,"./bn.js":69751,"./bo":46894,"./bo.js":46894,"./br":38566,"./br.js":38566,"./bs":40959,"./bs.js":40959,"./ca":52683,"./ca.js":52683,"./cs":14231,"./cs.js":14231,"./cv":999,"./cv.js":999,"./cy":64302,"./cy.js":64302,"./da":63601,"./da.js":63601,"./de":95509,"./de-at":42479,"./de-at.js":42479,"./de-ch":72924,"./de-ch.js":72924,"./de.js":95509,"./dv":19838,"./dv.js":19838,"./el":55113,"./el.js":55113,"./en-au":27377,"./en-au.js":27377,"./en-ca":29626,"./en-ca.js":29626,"./en-gb":55912,"./en-gb.js":55912,"./en-ie":12931,"./en-ie.js":12931,"./en-il":52243,"./en-il.js":52243,"./en-in":9779,"./en-in.js":9779,"./en-nz":49813,"./en-nz.js":49813,"./en-sg":54318,"./en-sg.js":54318,"./eo":74957,"./eo.js":74957,"./es":99243,"./es-do":67409,"./es-do.js":67409,"./es-mx":75188,"./es-mx.js":75188,"./es-us":16927,"./es-us.js":16927,"./es.js":99243,"./et":87731,"./et.js":87731,"./eu":21072,"./eu.js":21072,"./fa":29462,"./fa.js":29462,"./fi":29838,"./fi.js":29838,"./fil":73626,"./fil.js":73626,"./fo":6421,"./fo.js":6421,"./fr":70974,"./fr-ca":77780,"./fr-ca.js":77780,"./fr-ch":59719,"./fr-ch.js":59719,"./fr.js":70974,"./fy":98373,"./fy.js":98373,"./ga":83861,"./ga.js":83861,"./gd":44896,"./gd.js":44896,"./gl":20739,"./gl.js":20739,"./gom-deva":86737,"./gom-deva.js":86737,"./gom-latn":31979,"./gom-latn.js":31979,"./gu":32001,"./gu.js":32001,"./he":99671,"./he.js":99671,"./hi":82038,"./hi.js":82038,"./hr":11228,"./hr.js":11228,"./hu":30087,"./hu.js":30087,"./hy-am":83569,"./hy-am.js":83569,"./id":91977,"./id.js":91977,"./is":86853,"./is.js":86853,"./it":82140,"./it-ch":25626,"./it-ch.js":25626,"./it.js":82140,"./ja":24123,"./ja.js":24123,"./jv":26457,"./jv.js":26457,"./ka":30638,"./ka.js":30638,"./kk":16823,"./kk.js":16823,"./km":9493,"./km.js":9493,"./kn":11288,"./kn.js":11288,"./ko":29663,"./ko.js":29663,"./ku":70805,"./ku.js":70805,"./ky":87550,"./ky.js":87550,"./lb":76272,"./lb.js":76272,"./lo":99135,"./lo.js":99135,"./lt":91452,"./lt.js":91452,"./lv":35782,"./lv.js":35782,"./me":32181,"./me.js":32181,"./mi":50258,"./mi.js":50258,"./mk":35715,"./mk.js":35715,"./ml":50538,"./ml.js":50538,"./mn":83086,"./mn.js":83086,"./mr":75663,"./mr.js":75663,"./ms":35100,"./ms-my":92663,"./ms-my.js":92663,"./ms.js":35100,"./mt":50880,"./mt.js":50880,"./my":19099,"./my.js":19099,"./nb":38709,"./nb.js":38709,"./ne":32201,"./ne.js":32201,"./nl":21016,"./nl-be":61681,"./nl-be.js":61681,"./nl.js":21016,"./nn":25330,"./nn.js":25330,"./oc-lnc":27132,"./oc-lnc.js":27132,"./pa-in":30251,"./pa-in.js":30251,"./pl":93948,"./pl.js":93948,"./pt":89836,"./pt-br":36421,"./pt-br.js":36421,"./pt.js":89836,"./ro":28443,"./ro.js":28443,"./ru":20004,"./ru.js":20004,"./sd":54510,"./sd.js":54510,"./se":63148,"./se.js":63148,"./si":10542,"./si.js":10542,"./sk":77637,"./sk.js":77637,"./sl":85852,"./sl.js":85852,"./sq":90611,"./sq.js":90611,"./sr":10242,"./sr-cyrl":90302,"./sr-cyrl.js":90302,"./sr.js":10242,"./ss":91367,"./ss.js":91367,"./sv":42927,"./sv.js":42927,"./sw":5240,"./sw.js":5240,"./ta":82692,"./ta.js":82692,"./te":42132,"./te.js":42132,"./tet":88300,"./tet.js":88300,"./tg":37211,"./tg.js":37211,"./th":14050,"./th.js":14050,"./tk":53849,"./tk.js":53849,"./tl-ph":3964,"./tl-ph.js":3964,"./tlh":23650,"./tlh.js":23650,"./tr":44195,"./tr.js":44195,"./tzl":55529,"./tzl.js":55529,"./tzm":17520,"./tzm-latn":60298,"./tzm-latn.js":60298,"./tzm.js":17520,"./ug-cn":84134,"./ug-cn.js":84134,"./uk":95456,"./uk.js":95456,"./ur":15679,"./ur.js":15679,"./uz":89277,"./uz-latn":66446,"./uz-latn.js":66446,"./uz.js":89277,"./vi":53992,"./vi.js":53992,"./x-pseudo":8882,"./x-pseudo.js":8882,"./yo":12899,"./yo.js":12899,"./zh-cn":94017,"./zh-cn.js":94017,"./zh-hk":84831,"./zh-hk.js":84831,"./zh-mo":32881,"./zh-mo.js":32881,"./zh-tw":30057,"./zh-tw.js":30057};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}i.keys=function(){return Object.keys(s)},i.resolve=a,t.exports=i,i.id=46700},10804:function(){},75049:function(t,e,n){"use strict";n(66992),n(88674),n(19601),n(17727);var s=n(28935),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isTabBarShow,expression:"$store.state.isTabBarShow"}]}),n("section",[n("router-view")],1)],1)},a=[],o=n(82572),r=(n(60415),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("ul",[n("router-link",{attrs:{to:"/films",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[n("li",{class:i?"myActive":"",on:{click:s}},[n("i",{staticClass:"iconfont icon-dianyingpiao"}),n("span",[t._v("电影")])])]}}])}),n("router-link",{attrs:{to:"/cinemas",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[n("li",{class:i?"myActive":"",on:{click:s}},[n("i",{staticClass:"iconfont icon-shangquan"}),n("span",[t._v("影院")])])]}}])}),n("router-link",{attrs:{to:"/center",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[n("li",{class:i?"myActive":"",on:{click:s}},[n("i",{staticClass:"iconfont icon-shezhi"}),n("span",[t._v("我的")])])]}}])})],1)])}),c=[],l=n(10804),u=n.n(l),d=u(),m=n(1001),f=(0,m.Z)(d,r,c,!1,null,"8c0c6290",null),h=f.exports;s.Z.use(o.ZP);var v={components:{TabBar:h}},p=v,j=(0,m.Z)(p,i,a,!1,null,null,null),g=j.exports,_=n(12809),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("film-header",{staticClass:"sticky"}),n("router-view")],1)},k=[],b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("router-link",{attrs:{to:"/films/nowplay",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[n("li",{on:{click:s}},[n("span",{class:i?"myActive":""},[t._v("正在热映")])])]}}])}),n("router-link",{attrs:{to:"/films/comingsoon",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate,i=e.isActive;return[n("li",{on:{click:s}},[n("span",{class:i?"myActive":""},[t._v("即将上线")])])]}}])})],1)},w=[],C={},$=(0,m.Z)(C,b,w,!1,null,"41be1f08",null),x=$.exports,Z={components:{FilmHeader:x}},I=Z,L=(0,m.Z)(I,y,k,!1,null,"43634b1e",null),S=L.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"cinemas"}},[n("van-nav-bar",{attrs:{title:"影院"},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[t._v(" "+t._s(t.$store.state.cityName)+" "),n("van-icon",{attrs:{name:"arrow-down"}})]},proxy:!0},{key:"right",fn:function(){return[n("van-icon",{attrs:{name:"search"}})]},proxy:!0}])}),n("div",{staticClass:"box"},[n("ul",t._l(t.$store.state.cinemaList,(function(e){return n("li",{key:e.cinemaId},[n("div",{staticClass:"left"},[n("div",[t._v(t._s(e.name))]),n("div",{staticClass:"address"},[t._v(t._s(e.address))])]),n("div",{staticClass:"right"},[n("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0)])],1)},E=[],N=n(42314),P={data:function(){return{cinemaList:[]}},mounted:function(){var t=this;0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId).then((function(e){console.log("cinemas 数据加载完成"),t.$nextTick((function(){new N.ZP(".box",{scrollbar:{fade:!0}})}))})):(console.log("cinemas 使用缓存"),this.$nextTick((function(){new N.ZP(".box",{scrollbar:{fade:!0}})})))},methods:{onClickLeft:function(){this.$router.push("/city"),this.$store.commit("clearCinemaList")},onClickRight:function(){this.$router.push("/search")}}},T=P,H=(0,m.Z)(T,z,E,!1,null,null,null),O=H.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"center"}},[n("div",{staticClass:"header"},[n("i",{staticClass:"iconfont icon-nickname"}),n("router-link",{attrs:{to:"/login",custom:""},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.navigate;return[n("li",[n("span",{on:{click:s}},[t._v(t._s(t.$store.state.userName))])])]}}])})],1),t._m(0),t._m(1),t._m(2)])},B=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav"},[n("div",[t._v("电影订单")]),n("div",[t._v("商品订单")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[t._v("卖座券")]),n("li",[t._v("红包")]),n("li",[t._v("余额")]),n("li",[t._v("设置")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("p",[t._v("个人练习")]),n("p",[t._v("vue")])])}],D={},F=D,U=(0,m.Z)(F,A,B,!1,null,"650516cb",null),X=U.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return n("van-cell",{key:e.filmId,on:{click:function(n){return t.handleChangePage(e.filmId)}}},[n("img",{attrs:{src:e.poster}}),n("div",[n("div",{staticClass:"title"},[t._v(t._s(e.name))]),n("div",{staticClass:"content "},[n("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),n("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),n("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])]),n("span",{staticClass:"order"},[t._v("热映中")])])})),1)],1)},M=[],Y=n(74479),R=(n(57327),n(41539),n(69600),n(21249),n(68309),n(92222),n(26166)),V=n.n(R),G=n(58256),J=V().create({baseURL:"https://m.maizuo.com",timeout:0,headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.2.0","e":"1653814037507184098050049","bc":"440100"}'}});J.interceptors.request.use((function(t){return G.Z.loading({message:"加载中...",forbidClick:!0,duration:0}),t}),(function(t){return Promise.reject(t)})),J.interceptors.response.use((function(t){return G.Z.clear(),t}),(function(t){return G.Z.clear(),Promise.reject(t)}));var K=J,Q=n(37882);s.Z.use(Q.Z),s.Z.filter("actorsFilter",(function(t){return void 0===t?"暂无主演":t.map((function(t){return t.name})).join(" ")}));var W={data:function(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted:function(){var t=this;K({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=1&pageSize=10&type=1&k=9288020"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films,t.total=e.data.data.total}))},methods:{handleChangePage:function(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad:function(){var t=this;console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,K({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=").concat(this.current,"&pageSize=10&type=1&k=9288020"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=[].concat((0,Y.Z)(t.datalist),(0,Y.Z)(e.data.data.films)),t.loading=!1}))):this.finished=!0}}},tt=W,et=(0,m.Z)(tt,q,M,!1,null,"af9978c4",null),nt=et.exports,st=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(e){return n("van-cell",{key:e.filmId,on:{click:function(n){return t.handleChangePage(e.filmId)}}},[n("img",{attrs:{src:e.poster}}),n("div",[n("div",{staticClass:"title"},[t._v(t._s(e.name))]),n("div",{staticClass:"content "},[n("div",{class:e.grade?"":"hidden"},[t._v(" 观众评分: "),n("span",{staticStyle:{color:"red"}},[t._v(t._s(e.grade))])]),n("div",[t._v(" "+t._s(e.nation)+" | "+t._s(e.runtime)+"分钟 ")]),n("div",{staticClass:"actors"},[t._v(" 主演:"+t._s(t._f("actorsFilter")(e.actors))+" ")])])]),n("span",{staticClass:"order"},[t._v("即将上映")])])})),1)],1)},it=[];s.Z.use(Q.Z),s.Z.filter("actorsFilter",(function(t){return void 0===t?"暂无主演":t.map((function(t){return t.name})).join(" ")}));var at={data:function(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted:function(){var t=this;K({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=1&pageSize=10&type=2&k=8803514"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=e.data.data.films,t.total=e.data.data.total,console.log(t.total)}))},methods:{handleChangePage:function(t){console.log("changePage:",t),this.$router.push({name:"jack",params:{id:t}})},onLoad:function(){var t=this;console.log("到底了"),this.datalist.length!==this.total||0===this.total?(this.current++,K({url:"/gateway?cityId=".concat(this.$store.state.cityId,"&pageNum=").concat(this.current,"&pageSize=10&type=2&k=8803514"),headers:{"X-Host":"mall.film-ticket.film.list"}}).then((function(e){t.datalist=[].concat((0,Y.Z)(t.datalist),(0,Y.Z)(e.data.data.films)),t.loading=!1}))):this.finished=!0}}},ot=at,rt=(0,m.Z)(ot,st,it,!1,null,"442f62cc",null),ct=rt.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.filmInfo?n("div",{attrs:{id:"detail"}},[n("detail-header",{directives:[{name:"scroll",rawName:"v-scroll",value:0,expression:"0"}]},[t._v(t._s(t.filmInfo.name))]),n("div",{staticClass:"poster",style:{backgroundImage:"url("+t.filmInfo.poster+")"}}),n("div",{staticClass:"content"},[n("div",{staticClass:"title"},[t._v(t._s(t.filmInfo.name))]),n("div",[n("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.category))]),n("div",{staticClass:"detail-text"},[t._v(t._s(t._f("dateFilter")(t.filmInfo.premiereAt))+"上映")]),n("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.nation)+" | "+t._s(t.filmInfo.runtime)+"分钟")]),n("div",{staticClass:"detail-text",class:t.isHidden?"hidden":"",staticStyle:{"line-height":"1.25rem"}},[t._v(t._s(t.filmInfo.synopsis))]),n("div",{staticStyle:{"text-align":"center"}},[n("i",{staticClass:"iconfont",class:t.isHidden?"icon-arrow-down-bold":"icon-arrow-up-bold",on:{click:function(e){t.isHidden=!t.isHidden}}})])])]),n("div",{staticClass:"content"},[n("div",[t._v("演职人员")]),n("detail-swiper",{staticClass:"actorlist",attrs:{slideNum:3.5,name:"actors"}},t._l(t.actorList,(function(e){return n("detail-swiper-item",{key:e.name},[n("div",{staticClass:"actorposter",style:{backgroundImage:"url("+e.avatarAddress+")"}}),n("div",{staticStyle:{color:"#000"}},[t._v(t._s(e.name))]),n("div",[t._v(t._s(e.role))])])})),1)],1),n("div",{staticClass:"content"},[n("div",[t._v("剧照")]),n("detail-swiper",{staticClass:"photolist",attrs:{slideNum:2,name:"photos"}},t._l(t.photoList,(function(e,s){return n("detail-swiper-item",{key:e},[n("div",{staticClass:"photoposter",on:{click:function(e){return t.handleImagePreview(s)}}},[n("img",{attrs:{src:e}})])])})),1)],1)],1):t._e()},ut=[],dt=n(17133),mt=n.n(dt),ft=n(22014),ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper",class:t.name},[n("div",{staticClass:"swiper-wrapper"},[t._t("default")],2),n("div",{staticClass:"swiper-pagination"})])},vt=[],pt=(n(9653),n(74464)),jt={props:{slideNum:{type:Number,default:3.5},name:{type:String,default:"jack"}},mounted:function(){new pt.Z("."+this.name,{slidesPerView:this.slideNum,spaceBetween:15})}},gt=jt,_t=(0,m.Z)(gt,ht,vt,!1,null,null,null),yt=_t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-slide"},[t._t("default")],2)},bt=[],wt={},Ct=(0,m.Z)(wt,kt,bt,!1,null,null,null),$t=Ct.exports,xt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("i",{staticClass:"iconfont icon-arrow-left-bold",on:{click:function(e){return t.handleBack()}}}),t._t("default")],2)},Zt=[],It={methods:{handleBack:function(){this.$router.back()}}},Lt=It,St=(0,m.Z)(Lt,xt,Zt,!1,null,"24f848c5",null),zt=St.exports;s.Z.filter("dateFilter",(function(t){return mt()(1e3*t).format("YYYY-MM-DD")})),s.Z.directive("scroll",{inserted:function(t,e){t.style.display="none",window.onscroll=function(){console.log("scroll",e.value),(document.documentElement.scrollTop||document.body.scrollTop)>e.value?t.style.display="block":t.style.display="none"}},unbind:function(){window.scroll=null}});var Et={data:function(){return{filmInfo:null,isHidden:!0,actorList:[],photoList:[]}},components:{detailSwiper:yt,detailSwiperItem:$t,DetailHeader:zt},created:function(){var t=this;K({url:"/gateway?filmId=".concat(this.$route.params.id,"&k=2128320"),headers:{"X-Host":"mall.film-ticket.film.info"}}).then((function(e){t.filmInfo=e.data.data.film,t.actorList=e.data.data.film.actors,t.photoList=e.data.data.film.photos}))},mounted:function(){this.$store.commit("hide")},destroyed:function(){window.onscroll=null,this.$store.commit("show")},methods:{handleImagePreview:function(t){console.log(t),(0,ft.Z)({images:this.photoList,startPosition:t,closeable:!0})}}},Nt=Et,Pt=(0,m.Z)(Nt,lt,ut,!1,null,"46fe0ba9",null),Tt=Pt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"search"}},[n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{search:t.onSearch,cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),n("div",{staticClass:"box"},[t.value?n("ul",t._l(t.computedList,(function(e){return n("li",{key:e.cinemaId},[n("div",{staticClass:"left"},[n("div",[t._v(t._s(e.name))]),n("div",{staticClass:"address"},[t._v(t._s(e.address))])]),n("div",{staticClass:"right"},[n("div",{staticStyle:{color:"red"}},[t._v("￥"+t._s(e.lowPrice/100)+"起")])])])})),0):t._e()])],1)},Ot=[],At=(n(26699),n(32023),{data:function(){return{value:""}},methods:{onSearch:function(){},onCancel:function(){this.$router.back()}},computed:{computedList:function(){var t=this;return this.$store.state.cinemaList.filter((function(e){return e.name.toUpperCase().includes(t.value.toUpperCase())||e.address.toUpperCase().includes(t.value.toUpperCase())}))}},mounted:function(){0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId):console.log("search 使用缓存")}}),Bt=At,Dt=(0,m.Z)(Bt,Ht,Ot,!1,null,null,null),Ft=Dt.exports,Ut=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"city"}},[n("van-index-bar",{attrs:{"index-list":t.computedList,sticky:!1},on:{select:t.handleChange}},t._l(t.cityList,(function(e){return n("div",{key:e.tyoe},[n("van-index-anchor",{attrs:{index:e.type}}),t._l(e.list,(function(e){return n("van-cell",{key:e.cityId,attrs:{title:e.name},on:{click:function(n){return t.handleClick(e)}}})}))],2)})),0)],1)},Xt=[],qt={created:function(){this.$store.commit("hide")},destroyed:function(){this.$store.commit("show")}},Mt={mixins:[qt],data:function(){return{cityList:[]}},mounted:function(){var t=this;K({url:"/gateway?k=129332",headers:{"X-Host":"mall.film-ticket.city.list"}}).then((function(e){t.renderCity(e.data.data.cities)}))},destroyed:function(){},methods:{renderCity:function(t){for(var e=this,n=[],s=65;s<91;s++)n.push(String.fromCharCode(s));n.forEach((function(n){var s=t.filter((function(t){return t.pinyin.substring(0,1).toUpperCase()===n}));s.length>0&&e.cityList.push({type:n,list:s})})),console.log(this.cityList)},handleChange:function(t){(0,G.Z)(t)},handleClick:function(t){this.$store.commit("changeCityName",t.name),this.$store.commit("changeCityId",t.cityId),this.$router.back()}},computed:{computedList:function(){return this.cityList.map((function(t){return t.type}))}}},Yt=Mt,Rt=(0,m.Z)(Yt,Ut,Xt,!1,null,null,null),Vt=Rt.exports,Gt=n(34665),Jt=n(53445);s.Z.use(Gt.ZP);var Kt=new Gt.ZP.Store({plugins:[(0,Jt.Z)({reducer:function(t){return{cityId:t.cityId,cityName:t.cityName}}})],state:{cityId:"110100",cityName:"北京",cinemaList:[],isTabBarShow:!0,userName:"请登录"},getters:{},mutations:{changeCityName:function(t,e){t.cityName=e},changeCityId:function(t,e){t.cityId=e},changeCinemaData:function(t,e){t.cinemaList=e},clearCinemaList:function(t){t.cinemaList=[]},show:function(t){t.isTabBarShow=!0},hide:function(t){t.isTabBarShow=!1},setUsername:function(t,e){t.userName=e}},actions:{getCinemaData:function(t,e){return K({url:"/gateway?cityId=".concat(e,"&ticketFlag=1&k=8708327"),headers:{"X-Host":"mall.film-ticket.cinema.list"}}).then((function(e){console.log(e.data.data.cinemas),t.commit("changeCinemaData",e.data.data.cinemas)}))}},modules:{}}),Qt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("h1",[t._v("登录页面")]),n("van-form",{on:{submit:t.onSubmit}},[n("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),n("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),n("div",{staticStyle:{margin:"1rem"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],1)],1)},Wt=[],te={data:function(){return{username:"",password:""}},methods:{onSubmit:function(t){var e=this;console.log("submit",t),(0,G.Z)("登录成功"),setTimeout((function(){e.$store.commit("setUsername",e.username),e.$router.push("/films")}),1e3)}}},ee=te,ne=(0,m.Z)(ee,Qt,Wt,!1,null,"588e3900",null),se=ne.exports;s.Z.use(_.Z);var ie=[{path:"/films",component:S,children:[{path:"/films/nowplay",component:nt},{path:"/films/comingsoon",component:ct},{path:"/films",redirect:"/films/nowplay"}]},{path:"/detail",component:Tt},{name:"jack",path:"/detail/:id",component:Tt},{path:"/cinemas",component:O},{path:"/city",component:Vt},{path:"/center",component:X},{path:"/search",component:Ft,meta:{isTabbarHide:!0}},{path:"/login",component:se},{path:"/",redirect:"/films"},{path:"*",redirect:"films"}],ae=new _.Z({mode:"hash",base:"",routes:ie});ae.beforeEach((function(t,e,n){t.meta.isTabbarHide?(console.log("TabBar hide"),Kt.commit("hide")):(console.log("TabBar show"),Kt.commit("show")),n()}));var oe=ae;s.Z.config.productionTip=!1,new s.Z({router:oe,store:Kt,render:function(t){return t(g)}}).$mount("#app")}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var a=e[s]={id:s,loaded:!1,exports:{}};return t[s].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.m=t,function(){var t=[];n.O=function(e,s,i,a){if(!s){var o=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],a=t[u][2];for(var r=!0,c=0;c<s.length;c++)(!1&a||o>=a)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(r=!1,a<o&&(o=a));if(r){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,a,o=s[0],r=s[1],c=s[2],l=0;if(o.some((function(e){return 0!==t[e]}))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(c)var u=c(n)}for(e&&e(s);l<o.length;l++)a=o[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},s=self["webpackChunkproject0531"]=self["webpackChunkproject0531"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(75049)}));s=n.O(s)})();
//# sourceMappingURL=app-legacy.55d8bc84.js.map